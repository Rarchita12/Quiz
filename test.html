<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./assets/css/style.css" />
  </head>
  <body>
    <div id="Div1">
      <h1>Coding Quiz Challenge</h1>
      <p>
        Try to answer the following code-related questions within the time
        limit. Keep in mind that incorrect answers will penalize your score/time
        by ten seconds!
      </p>
    </div>

    <input
      id="Button1"
      type="button"
      value="Start"
      onclick="switchVisible();"
    />

    <div id="Div2">
      <ul id="ulDiv2"></ul>

      <!--<h1>Commonly used data types DO Not Include:</h1>
      <ul>
        <button
          id="Button2"
          type="button"
          value="Click"
          onclick="switchVisible();"
        >
          <li>1.Strings</li>
        </button>
        <li>2.Booleans</li>
      </ul> -->
    </div>

    <div id="Div3"></div>

    <!--  <div id="Div3">
      <h1>All Done!</h1>
      <h2>Your final score is:</h2>
      <h2>Enter initials</h2>
      <button onclick="setScore">Submit</button>
    </div>
-->
    <script>
      var i = 0;
      var result = " ";
      var taskDataObj = [
        {
          question: "Commonly used data types DO Not Include: ",
          choice1: "1.Strings",
          choice2: "2.Booleans",
          choice3: "3.Alerts",
          choice4: "4.Numbers",
          answer: "3",
        },
        {
          question:
            "The condition in an if/else statement is enclosed with ______.",
          choice1: "1.quotes",
          choice2: "2.curly brackets",
          choice3: "3.parenthesis",
          choice4: "4.square brackets",
          answer: "2",
        },

        {
          question: "Arrays in JavaScript can be used to store ",
          choice1: "1.numbers and strings",
          choice2: "2.other arrays",
          choice3: "3.booleans",
          choice4: "4.all of the above",
          answer: "4",
        },

        {
          question:
            "String values must be enclosed within _____ when being assigned to variables.",
          choice1: "1.commas",
          choice2: "2.curly brackets",
          choice3: "3.quotes",
          choice4: "4.parenthesis",
          answer: "3",
        },
        {
          question:
            "A very useful tool used during development and debugging for printing content to the debugger is:",
          choice1: "1.JavaScript",
          choice2: "2.terminal/bash",
          choice3: "3.for loops",
          choice4: "4.console.log",
          answer: "4",
        },
      ];

      var div2 = document.querySelector("#ulDiv2");
      var div3 = document.querySelector("#Div3");
      // var butt = document.querySelector("div2.inside1");

      /* var taskDataObj = {
                                question: taskNameInput,
                                choice1: taskTypeInput,
                                choice2: ,
                                choice3: ,
                                choice4: ,
                                choice5: ,
                                answer: "to do",
                              };*/

      function switchVisible() {
        if (document.getElementById("Div1")) {
          if (document.getElementById("Div1").style.display == "none") {
            document.getElementById("Div1").style.display = "block";
            document.getElementById("Div2").style.display = "none";
          } else {
            document.getElementById("Div1").style.display = "none";
            document.getElementById("Button1").remove();
            displayList();
            //setTimeout
          }
        }
      }

      function setScore() {
        document.getElementById("Div2").style.display = "none";
        document.getElementById("Div3").style.display = "block";
        document.getElementById("Div3").className = "mystyle";
        var userInit = document.createElement("div");
        userInit.className = "namesomething";
        userInit.innerHTML =
          "<h1 > All Done!" +
          "</h1><br/><h2> Your final score is " +
          answerCount +
          "</h2> <br/>" +
          "<br/><label for='initials'>Enter initials: </label><input type = 'text' id='initials name='initials><input type='submit' value='Submit'><br/> <br/><p>" +
          result +
          "</p>";

        div3.appendChild(userInit);
      }

      function displayList() {
        document.getElementById("Div2").style.display = "block";
        document.getElementById("Div2").className = "mystyle";
        var listItemEl = document.createElement("li");
        listItemEl.className = "question";
        listItemEl.setAttribute = ("id", "li1");

        var inside1 = document.createElement("div");
        inside1.className = "inside1";
        // for (i = 0; i < taskDataObj.length; ) {
        // add HTML content to div
        console.log("This is last i " + i);
        inside1.innerHTML =
          "<h1 >" +
          taskDataObj[i].question +
          "</h1><button><li id=1>" +
          taskDataObj[i].choice1 +
          "</li> </button><br/>" +
          "<br/><button ><li id=2>" +
          taskDataObj[i].choice2 +
          "<br/></li> </button> <br/>" +
          "<br/><button><li id=3>" +
          taskDataObj[i].choice3 +
          "<br/></li> </button><br/>" +
          "<br/><button><li id=4>" +
          taskDataObj[i].choice4 +
          "<br/></li> </button><br/><p>" +
          result +
          "</p>";

        listItemEl.appendChild(inside1);
        div2.appendChild(listItemEl);
        result = " ";
        // }
        /*
                    var para = document.createElement("h1");
                    para.innerHTML
                    var t = document.createTextNode(taskDataObj[0].question);
                    para.appendChild(t);
                    document.getElementById("li1").appendChild(para);*/

        // listItemEl.innerHTML = "<h1 >" + taskDataObj.question + "</h1>";
        //listItemEl.appendChild(#Div2);
        /* // create div to hold task info and add to list item
                    var taskInfoEl = document.createElement("div");
                    // give it a class name
                    taskInfoEl.className = "my-style";
                    // add HTML content to div
                    taskInfoEl.innerHTML = "<h1 >" + taskDataObj.question + "</h1>";

                    listIte
                  mEl.appendChild(taskInfoEl);*/
      }

      // function playerScore() {}

      var answerCount = 0;

      div2.addEventListener("click", function (e) {
        console.log("I IS: " + i);
        // console.log(e.target.nodeName);

        if (
          (e.target && e.target.nodeName == "LI") ||
          (e.target && e.target.nodeName == "BUTTON" && i < taskDataObj.length)
        ) {
          console.log(e.target.id + " was clicked");
          var userSelected = e.target.id;
          console.log("user selected " + userSelected);
          console.log("array answer " + taskDataObj[i].answer);
          // if (i < taskDataObj.length - 1) {
          if (userSelected === taskDataObj[i].answer) {
            ++answerCount;
            console.log("score: " + answerCount);
            result = "correct";
          } else {
            result = "incorrect";
          }

          if (i < taskDataObj.length - 1) {
            i++;
            console.log("This is i " + i);
            div2.innerHTML = "";
            displayList();
          } else {
            setScore();
          }

          /* console.log("This is i " + i);
                div2.innerHTML = "";
                displayList();
      */
          // document.getElementById("li1").style.display = "none";
          // document.getElementById("Div2").style.display = "none";
          /*  for (var j = 0; j < taskDataObj.length; j++) {
                          if (userSelected === taskDataObj[i].answer) {
                        answerCount++;
                        console.log(answerCount);
                        i++;}
                          div2.innerHTML = "";
                          displayList();
                        }

                        */
          // }
        }

        /*else {
                setScore();
              }*/

        /*   if (i >= taskDataObj.length) {
                      console.log("done");
                    }*/
      });
    </script>
  </body>
</html>
